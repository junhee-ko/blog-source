---
layout: post
title: Emergence
date: 2022-10-30
categories: Clean Code
---

켄트 백은 다음 규칙을 따르는 설계를 "단순하다"고 말한다.

1. 모든 테스트를 실행한다.
2. 중복을 없앤다.
3. 프로그래머 의도를 표현한다.
4. 클래스와 메서드 수를 최소로 줄인다.

## 모든 테스트를 실행해라

테스트 케이스를 만들고 계속 돌리자.
그러면, 시스템은 낮은 결합도와 높은 응집력을 따르게 된다.
테스트가 가능한 시스템을 만들려고 애쓰면 설계 품질이 높아진다.

크키가 작고 목적 하나만 수행하는 클래스가 나오게 된다.
SRP 를 준수하면 테스트가 쉬워지기 때문이다.

결합도가 높으면 테스트 케이스 작성이 어렵다.
그래서, DIP 원칙을 적용하고 DI, 인터페이스, 추상화 같은 도구를 사용해 결합도를 낮추게 된다.

## 리팩토링을 해라

테스트 케이스를 모두 작성했으면, 리팩토링을 하자.
테스트 케이스가 있으므로, 코드를 정리하면서 시스템이 깨질 걱정할 필요가 없다.

### 중복을 없애라

깨끗한 시스템을 만들려면 단 몇줄이라도 중복을 제거해야한다.
중복은 추가 위험, 불필요한 복잡도를 뜻한다.

공통 코드를 새 메서드로 추출하고 보니, 해당 클래스가 SRP 를 위반할 수도 있다.
그러면, 해당 메서드를 다른 클래스로 옮기면 된다.

### 프로그래머 의도를 표현해라

소프트웨어 비용 중 대다수는 유지보수이다.
코드를 명백히 작성할 수록 다른 사람이 이해하기 쉬워진다.
이를 위해,

1. 좋은 이름을 선택하자.
2. 함수와 클래스 크기를 줄이자.
3. 표준 명칭을 사용하자. 예를 들어, 디자인 패턴을 사용했으면 클래스 이름에 넣어주자. 클래스 설계 의도를 이해하기 쉬워진다.
4. 단위 테스트 케이스를 작성하자. 잘 만든 테스트 케이스는 클래스 기능을 이해하기 쉽다.

### 클래스와 메서드 수를 최소로 줄여라

클래스와 함수를 작게 유지하면서 시스템 크기도 작게 유지하자.

---

클린코드 <로버트 C.마틴>
